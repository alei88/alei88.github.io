/* ereny.js Date:2017-04-24 12:03:37 */
define("ereny.js",["unit.js","vue.js","swiper.min.js"],function(require,a,b){require("unit.js"),require("vue.js"),require("swiper.min.js");var c={_init:function(){c.render(),c.guanzhu(),c.swiper()},swiper:function(){new Swiper("#swiper-container1",{watchSlidesProgress:!0,watchSlidesVisibility:!0,slidesPerView:3,pagination:".swiper-pagination"})},render:function(){$.ajax({url:"/project-vue/html/data/data.json",dataType:"JSON",type:"get"}).done(function(a){c.view(a)})},guanzhu:function(){$("#test").on("click","section",function(){$(this).attr("t","1"),1==$(this).attr("t")&&$(this).addClass("yidianzan")}),$("#test").on("click","em",function(){$(this).attr("t","2"),2==$(this).attr("t")&&($(this).addClass("yiguanzhu"),$(this).html("\u5df2\u5173\u6ce8"))});var c=!0;$(".concern").on("click",".guanzhu",function(){$(this).attr("t","2");var a=parseInt($(this).parents(".concern").find("i:eq(0)").html());2==$(this).attr("t")&&($(this).addClass("yiguanzhu"),$(this).html("\u5df2\u5173\u6ce8"),$(this).parents(".concern").find("i:eq(0)").html(a)),c&&($(this).parents(".concern").find("i:eq(0)").html(a+1),c=!1)})},view:function(a){var b={resume:a};var d=b.resume.content;new Vue({el:"#shuoshuo",data:b,methods:{jiazai:function(){b.resume.content=d.concat(a.content),this.reset()},reset:function(){setTimeout(function(){c.setPos()},1e3)}},ready:function(){this.reset()}})},_minIndex:function(a,b){for(var c in a)if(a[c]==b)return c},setPos:function(){var a=Unit.Q("#test")[0];var b=Unit.Q("#test .item");var d=b[0].offsetWidth;var e=Math.floor((document.documentElement.clientWidth-10)/d);a.style.width=d*e+"px;";var f=[];var g=0;var h=0;for(var i=0;i<b.length;i++){i%2==0?g+=b[i].offsetHeight:h+=b[i].offsetHeight,b[i].style.position="",b[i].style.top="",b[i].style.left="";var j=b[i].offsetHeight;if(e>i)f[i]=j;else{var k=Math.min.apply(null,f);var l=c._minIndex(f,k);b[i].style.position="absolute",b[i].style.top=k+"px",b[i].style.left=b[l].offsetLeft+"px",f[l]+=b[i].offsetHeight}}a.style.height=g>h?g+"px":h+"px"},lunbo:function(){var a=null;var b=0;$("#tab").find(".box:eq(0)").show();function c(a){$("#tab").find(".box").eq(a).show().siblings().hide()}a=setInterval(function(){b++,b>=3&&(b=0),c(b)},3e3)}};b.exports={init:c._init}});
